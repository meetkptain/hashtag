import{Q as v,r as g,n as m,o as l,k as w,h as P,a as t,t as e,c as n,m as x,F as f,p,q as B}from"./app-18070004.js";import{_ as C}from"./Layout-245e44e2.js";const k={class:"card mb-8"},F={class:"flex items-center justify-between mb-6"},E={class:"text-2xl font-bold text-gray-900"},S={class:"text-gray-600 mt-1"},$={class:"text-right"},G={class:"text-3xl font-bold text-primary-600"},V={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},j={class:"text-center p-4 rounded-lg bg-gray-50"},A={class:"text-2xl font-bold text-gray-900"},H={class:"text-center p-4 rounded-lg bg-gray-50"},N={class:"text-2xl font-bold text-gray-900"},q={class:"text-center p-4 rounded-lg bg-gray-50"},z={class:"text-2xl font-bold text-gray-900"},D={class:"text-center p-4 rounded-lg bg-gray-50"},K={class:"text-2xl font-bold text-gray-900"},L={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Q={key:0,class:"absolute top-0 right-0 bg-primary-500 text-white px-3 py-1 rounded-bl-lg rounded-tr-lg text-xs font-semibold"},I={class:"text-xl font-bold text-gray-900 mb-2"},J={class:"text-gray-600 text-sm mb-4"},M={class:"mb-6"},O={class:"text-4xl font-bold text-gray-900"},R={class:"space-y-3 mb-6"},T={class:"flex items-start gap-2 text-sm"},U={class:"flex items-start gap-2 text-sm"},W={class:"flex items-start gap-2 text-sm"},X={class:"flex items-start gap-2 text-sm"},Y={class:"flex items-start gap-2 text-sm"},Z=["onClick","disabled"],tt={class:"card mt-8"},st={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},et={class:"font-semibold text-gray-900 mb-2"},at={class:"text-2xl font-bold text-primary-600 mb-4"},nt={__name:"Billing",setup(rt){const _=v(),u=g({starter:{name:"Starter",description:"Parfait pour commencer",price_monthly:29,price_yearly:290,features:{feeds:1,hashtags:3,posts_limit:50,gamification:!1,custom_branding:!1,analytics:"basic",support:"email"}},business:{name:"Business",description:"Pour les entreprises en croissance",price_monthly:79,price_yearly:790,popular:!0,features:{feeds:3,hashtags:10,posts_limit:200,gamification:!0,custom_branding:!0,analytics:"advanced",support:"priority"}},enterprise:{name:"Enterprise",description:"Solution complète",price_monthly:199,price_yearly:1990,features:{feeds:-1,hashtags:-1,posts_limit:-1,gamification:!0,custom_branding:!0,analytics:"premium",support:"dedicated",api_access:!0,white_label:!0}}}),b=g({extra_feed:{name:"Flux supplémentaire",price:15},extra_hashtags:{name:"5 hashtags supplémentaires",price:10},premium_support:{name:"Support prioritaire",price:50}}),d=m(()=>{var r;return((r=_.props.tenant)==null?void 0:r.plan)||"starter"}),c=m(()=>u.value[d.value]||u.value.starter),o=m(()=>c.value.features),y=async r=>{try{const s=await axios.post("/stripe/checkout",{plan:r,interval:"monthly"});s.data.url&&(window.location.href=s.data.url)}catch(s){alert("Erreur lors du changement de plan"),console.error(s)}},h=async()=>{try{const r=await axios.post("/stripe/portal");r.data.url&&(window.location.href=r.data.url)}catch(r){alert("Erreur lors de l'accès au portail de facturation"),console.error(r)}};return(r,s)=>(l(),w(C,{title:"Facturation"},{default:P(()=>[t("div",k,[t("div",F,[t("div",null,[t("h3",E,"Plan "+e(c.value.name),1),t("p",S,e(c.value.description),1)]),t("div",$,[t("p",G,e(c.value.price_monthly)+"€",1),s[0]||(s[0]=t("p",{class:"text-sm text-gray-500"},"/mois",-1))])]),t("div",V,[t("div",j,[t("p",A,e(o.value.feeds===-1?"∞":o.value.feeds),1),s[1]||(s[1]=t("p",{class:"text-sm text-gray-600 mt-1"},"Flux",-1))]),t("div",H,[t("p",N,e(o.value.hashtags===-1?"∞":o.value.hashtags),1),s[2]||(s[2]=t("p",{class:"text-sm text-gray-600 mt-1"},"Hashtags",-1))]),t("div",q,[t("p",z,e(o.value.posts_limit===-1?"∞":o.value.posts_limit),1),s[3]||(s[3]=t("p",{class:"text-sm text-gray-600 mt-1"},"Posts",-1))]),t("div",D,[t("p",K,e(o.value.gamification?"✓":"✗"),1),s[4]||(s[4]=t("p",{class:"text-sm text-gray-600 mt-1"},"Gamification",-1))])]),t("div",{class:"flex gap-3"},[t("button",{onClick:h,class:"btn btn-primary"}," Gérer l'abonnement "),s[5]||(s[5]=t("button",{class:"btn btn-secondary"}," Voir les factures ",-1))])]),s[14]||(s[14]=t("h3",{class:"text-xl font-semibold mb-6"},"Changer de plan",-1)),t("div",L,[(l(!0),n(f,null,x(u.value,(a,i)=>(l(),n("div",{key:i,class:p(["card",a.popular?"ring-2 ring-primary-500 relative":""])},[a.popular?(l(),n("div",Q," Populaire ")):B("",!0),t("h4",I,e(a.name),1),t("p",J,e(a.description),1),t("div",M,[t("p",O,e(a.price_monthly)+"€",1),s[6]||(s[6]=t("p",{class:"text-sm text-gray-500"},"/mois",-1))]),t("ul",R,[t("li",T,[s[7]||(s[7]=t("span",{class:"text-green-500 mt-0.5"},"✓",-1)),t("span",null,e(a.features.feeds===-1?"Flux illimités":`${a.features.feeds} flux`),1)]),t("li",U,[s[8]||(s[8]=t("span",{class:"text-green-500 mt-0.5"},"✓",-1)),t("span",null,e(a.features.hashtags===-1?"Hashtags illimités":`${a.features.hashtags} hashtags`),1)]),t("li",W,[s[9]||(s[9]=t("span",{class:"text-green-500 mt-0.5"},"✓",-1)),t("span",null,"Analytics "+e(a.features.analytics),1)]),t("li",X,[t("span",{class:p(a.features.gamification?"text-green-500":"text-gray-300")},e(a.features.gamification?"✓":"✗"),3),s[10]||(s[10]=t("span",null,"Gamification",-1))]),t("li",Y,[t("span",{class:p(a.features.custom_branding?"text-green-500":"text-gray-300")},e(a.features.custom_branding?"✓":"✗"),3),s[11]||(s[11]=t("span",null,"Branding personnalisé",-1))])]),t("button",{onClick:ot=>y(i),class:p([d.value===i?"btn-secondary":"btn-primary","btn w-full"]),disabled:d.value===i},e(d.value===i?"Plan actuel":"Choisir ce plan"),11,Z)],2))),128))]),t("div",tt,[s[13]||(s[13]=t("h3",{class:"text-xl font-semibold mb-6"},"Extensions disponibles",-1)),t("div",st,[(l(!0),n(f,null,x(b.value,(a,i)=>(l(),n("div",{key:i,class:"border border-gray-200 rounded-lg p-4"},[t("h4",et,e(a.name),1),t("p",at,e(a.price)+"€/mois",1),s[12]||(s[12]=t("button",{class:"btn btn-secondary w-full text-sm"}," Ajouter ",-1))]))),128))])])]),_:1}))}};export{nt as default};
