import{r as u,j as _,o as c,k as y,h as d,a as t,g as l,c as g,m as w,F as b,u as m,i as f,t as r}from"./app-18070004.js";import{_ as k}from"./Layout-245e44e2.js";import{_ as i}from"./StatCard-da591d4d.js";const P={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},j={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},F={class:"card"},M={class:"space-y-4"},B={class:"flex-shrink-0"},D={class:"text-2xl"},E={class:"flex-1 min-w-0"},T={class:"text-sm font-medium text-gray-900"},C={class:"text-sm text-gray-600 truncate"},A={class:"flex items-center gap-3 mt-1 text-xs text-gray-500"},I={class:"card"},N={class:"space-y-3"},$={__name:"Index",setup(R){const n=u({totalPosts:0,newPosts:0,totalEngagement:0,activeFeeds:0}),p=u([]),x=window.location.origin+"/widget.js";_(async()=>{try{const s=await axios.get("/api/analytics");n.value={totalPosts:s.data.posts.total,newPosts:s.data.posts.new,totalEngagement:s.data.engagement.total,activeFeeds:0}}catch(s){console.error("Failed to load stats",s)}});const v=s=>({instagram:"📷",facebook:"👍",twitter:"🐦",google:"⭐"})[s]||"📱",h=s=>{const e=new Date(s),a=Math.floor((new Date-e)/1e3);return a<60?"À l'instant":a<3600?Math.floor(a/60)+"min":a<86400?Math.floor(a/3600)+"h":a<604800?Math.floor(a/86400)+"j":e.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})};return(s,e)=>(c(),y(k,{title:"Dashboard"},{default:d(()=>[t("div",P,[l(i,{title:"Total Posts",value:n.value.totalPosts,icon:"📝",color:"blue"},null,8,["value"]),l(i,{title:"Nouveaux Posts",value:n.value.newPosts,icon:"✨",color:"green"},null,8,["value"]),l(i,{title:"Engagement Total",value:n.value.totalEngagement,icon:"❤️",color:"red"},null,8,["value"]),l(i,{title:"Flux Actifs",value:n.value.activeFeeds,icon:"📡",color:"purple"},null,8,["value"])]),t("div",j,[t("div",F,[e[0]||(e[0]=t("h3",{class:"text-lg font-semibold mb-4"},"Posts Récents",-1)),t("div",M,[(c(!0),g(b,null,w(p.value,o=>(c(),g("div",{key:o.id,class:"flex items-start gap-3 p-3 rounded-lg hover:bg-gray-50"},[t("div",B,[t("span",D,r(v(o.platform)),1)]),t("div",E,[t("p",T,r(o.author_name),1),t("p",C,r(o.content),1),t("div",A,[t("span",null,"❤️ "+r(o.likes_count),1),t("span",null,"💬 "+r(o.comments_count),1),t("span",null,r(h(o.posted_at)),1)])])]))),128))])]),t("div",I,[e[4]||(e[4]=t("h3",{class:"text-lg font-semibold mb-4"},"Actions Rapides",-1)),t("div",N,[l(m(f),{href:"/feeds",class:"flex items-center justify-between p-4 rounded-lg border-2 border-dashed border-gray-300 hover:border-primary-500 hover:bg-primary-50 transition-colors"},{default:d(()=>[...e[1]||(e[1]=[t("div",{class:"flex items-center gap-3"},[t("div",{class:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center"},[t("span",{class:"text-xl"},"➕")]),t("div",null,[t("p",{class:"font-medium text-gray-900"},"Ajouter un flux"),t("p",{class:"text-sm text-gray-500"},"Instagram, Facebook, Twitter...")])],-1),t("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1}),l(m(f),{href:"/settings",class:"flex items-center justify-between p-4 rounded-lg border-2 border-dashed border-gray-300 hover:border-primary-500 hover:bg-primary-50 transition-colors"},{default:d(()=>[...e[2]||(e[2]=[t("div",{class:"flex items-center gap-3"},[t("div",{class:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center"},[t("span",{class:"text-xl"},"🎨")]),t("div",null,[t("p",{class:"font-medium text-gray-900"},"Personnaliser le widget"),t("p",{class:"text-sm text-gray-500"},"Thème, couleurs, animations...")])],-1),t("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1}),t("div",{class:"p-4 rounded-lg bg-gradient-to-r from-primary-500 to-purple-600 text-white"},[e[3]||(e[3]=t("p",{class:"font-medium mb-2"},"Widget Code",-1)),t("code",{class:"text-xs bg-black/20 rounded px-2 py-1 block overflow-x-auto"},' <script src="'+r(x)+'"><\/script> ')])])])])]),_:1}))}};export{$ as default};
